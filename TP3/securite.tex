\subsection{Présentation de la problématique}

Dans les systèmes reposant sur l’Internet of Things, la sécurité et la protection de la vie privée sont de manière générale des problématiques majeures, à la fois car les données recueillies par les différents capteurs peuvent être intrusives et révéler énormément de choses sur une personne, et avoir ainsi des conséquences pour la vie de tous les jours, mais aussi car ces systèmes comprennent souvent des actionneurs ou des objets capables d’agir, dont les répercussions en cas de mauvaises utilisations ou d’utilisations détournées peuvent être nuisibles. Ainsi, la sécurisation des accès à ces actionneurs, aux sources des données, ainsi qu’à toute transmission ou système manipulant les données recueillies doit être particulièrement étudiée et soigneusement mise au point.

Dans notre système Smart Health, ces problématiques sont d’autant plus importantes de par le caractère vital et hautement personnel de ces données. La sécurité et la protection de la vie privée sont dans ce type de système fortement et étroitement liées tout en ayant certaines spécificités propres. Pour les problèmes de sécurité (d’un point de vue informatique), nous avons bien entendu la sécurisation des actionneurs quels qu’ils soient. Dans notre système, cela correspond par exemple à la sécurisation du dispositif contrôlant le débit des perfusions. Une personne mal intentionnée pourrait par exemple envoyer un ordre dangereux voire mortel. De même un dysfonctionnement non maîtrisé dans le système ou dans les capteurs aux alentours pourrait avoir des conséquences néfastes. C’est pourquoi nous avons dû prendre en compte cette problématique particulière. Nous verrons dans la suite de cette section les mesures que nous avons prises pour assurer la sécurité et la protection de la vie privée. A la fois concernant la vie privée et la sécurité, nous avons bien entendu dû nous assurer que les données médicales propres à chaque patient soient correctement retranscrites, cloisonnées et que seules les personnes autorisées aient accès à ces données.

\subsection{Prise en compte de cette problématique dans la couche physique}

Ces problématiques étant présentes tout au long du cycle d’utilisation du système, nous avons dû réfléchir sur chacune des couches à comment offrir un niveau optimal de sécurité et de protection de la vie privée. Notre solution détaillée dans les deux rapports précédents ainsi que dans celui-ci comprend un grand nombre d’éléments répondant à ces objectifs, que nous récapitulons ici.

Dans la couche physique et réseau, le travail essentiel à réaliser a été de trouver des mécanismes de sécurité applicables à des capteurs et dispositifs contraints en terme de ressources et de possibilité de calcul. Il était donc hors de question d’utiliser par exemple des mécanismes lourds de chiffrage des données. Nous avons donc opter pour l’utilisation de protocoles de communication réseau des couches basses comprenant déjà certains mécanismes intégrés de chiffrage des données, qui sont plus légers et pris en charge nativement par les implémentations des protocoles. Ainsi, nous avons retenu trois protocoles dont deux comprennent des mécanismes de chiffrage : IEEE 802.15.4 et Bluetooth Low Energy. Le troisième protocole choisi, RFID, nécessite d’une part une présence physique à proximité immédiate du lit et/ou du patient, et d’autre part l’accès au système central de l’hôpital pour que les informations soient utilisables. Ainsi, nous avons limité fortement les fuites possibles concernant la vie privée en reportant pour les protocoles non sécurisés la charge sur le middleware des moniteurs intelligents et de la passerelle, qui ont, eux, la capacité nécessaire à contrôler les accès aux données. De plus, Bluetooth Low Energy et IEEE 802.15.4 sont caractérisés par la nécessité d’apparier les dispositifs communicants, ce qui permet de contrôler davantage les dispositifs participant au réseau de capteurs autour du client. Enfin, les protocoles applicatifs choisis pour communiquer avec les capteurs, les actionneurs, les moniteurs intelligents, ou la passerelle, ou pour récupérer des informations depuis les capteurs permettent également l’utilisation de couches spécialisées dans la transmission sécurisée, comme DTLS ou TLS, ce qui renforce la protection offerte.
 
\subsection{Prise en compte de ces problématiques dans le middleware}

Si nous avons pris certaines précautions détaillées précédemment dans la couche physique, celles-ci se révèlent limitées par les capacités des appareils concernés. La deuxième couche, celle du middleware, est idéale pour implanter des services de sécurité plus avancés. C’est ce que nous avons choisi de faire de diverses manières. Le middleware que nous avons réalisé est en réalité distribué : une partie de ce middleware est déployé sur chacun des moniteurs intelligents qui constituent les sinks des réseaux de capteurs, et l’autre partie est présente sur la passerelle intelligente. La sécurité et la protection de la vie privée étant des problèmes transverses, le système de sécurité du middleware est présent sur chacune de ces parties.

Son premier rôle est l’authentification : pour chaque requête effectuée, qu’il s’agisse d’actionner un objet, de récupérer des données, de consulter le dossier d’un patient, d’ajouter de nouvelles informations sur le patient ou d’en retirer, il est important de pouvoir authentifier qui ou quoi fait la demande. Ainsi, qu’il s’agisse d’une application, d’une personne, d’un terminal, voire même d’un moniteur intelligent ou de la passerelle, il est essentiel de savoir à chaque étape de qui ou quoi provient l’ordre. Cette connaissance doit être en cascade : si une personne demande à travers une application le profil d’un patient, le module de sécurité du middleware doit être capable de savoir que la personne qui a demandé est bien la personne qu’elle prétend être, que l’application qui relaye cette demande est bien celle qui se présente, et enfin le système de stockage doit savoir, quand il est interrogé par la passerelle, que c’est bien la passerelle qui en a fait la demande. Ceci est crucial pour deux raisons : la première est évidemment une raison de protection de la vie privée, afin que l’on sache à qui les données ont été envoyées, et la deuxième est une raison de responsabilité : une personne ayant fait une requête ne doit pas pouvoir s’exonérer de sa responsabilité dans la requête.

Le deuxième rôle du module de sécurité est de réaliser le contrôle d’accès, ou encore le processus d’autorisation : une fois la personne, l’application, le dispositif physique requérant identifié, il faut s’assurer qu’il dispose bien des droits nécessaires pour accéder ou actionner les ressources. Par exemple, un autre patient de l’hôpital, ou un visiteur, ne doit pas pouvoir accéder à des données qui ne le concernent pas, alors qu’un médecin devra pouvoir accéder au moins aux données de ses patients. Ce module s’assure donc d’une part que les données privées d’une personne ne sont pas rendues accessibles à des personnes qui ne sont pas autorisées à les recevoir (protection de la vie privée), et d’autre part que les actions, les changements de réglages et autres manipulations effectuées le sont par des personnes accréditées et autorisées à les réaliser (sécurité des patients).

Le troisième rôle de ce module de sécurité est le chiffrement des communications. En effet, à l’intérieur de l’hôpital, de nombreuses données personnelles ou requêtes vont circuler sur le réseau interne, parfois par des portions sans fil. Il est donc essentiel pour la protection de la vie privée des personnes de s’assurer que les données ne peuvent pas être interceptées, ou tout du moins ne peuvent pas être utilisables par un attaquant qui voudrait les exploiter.

Enfin le quatrième module est tout aussi important : il s’agit du module assurant la sécurisation et l’intégrité des communications. La sécurisation des communications notamment entre le système de stockage et la passerelle est un enjeu important auquel nous essayons de répondre à la fois par le chiffrement (module précédent) et par d’autres techniques de sécurisation. Mais un autre enjeu majeur est le maintien et la vérification de l’intégrité des communications. En effet, du petit capteur jusqu’à la passerelle intelligente et les serveurs de stockage, il est essentiel que toutes les données circulant soient exactement celles qui devaient être envoyées et transmises. En effet, une erreur dans une des données transmises pourrait par exemple entraîner le non-déclenchement d’une alerte, une mauvaise interprétation du problème par les médecins et membres du personnel, … et ainsi mettre en danger la vie du patient. Il est donc impératif de s’assurer de cette intégrité, et c’est l’objectif de ce dernier module.

Ainsi, dans l’ensemble du middleware nous avons traité d’un grand nombre de problèmes potentiels concernant la sécurité et la protection de la vie privée des patients, en offrant des solutions diverses et appropriées à ces troubles, par l’intermédiaire de modules spécialisés. Nous avons volontairement choisi de concentrer une partie importante de la sécurité sur le middleware, sur lequel nous avons plus de contrôle et de ressources que sur le reste du système.
 
\subsection{Prise en compte vis-à-vis des applications}

Les applications étant installées sur des téléphones intelligents, des tablettes, des ordinateurs potentiellement soumis à des attaques extérieurs comme des virus, des logiciels espions ou à des modifications diverses et variées, nous ne pouvions pas baser l’effort sur cette couche. Cependant, dans la construction des applications et de leurs possibilités d’accès aux données des patients et aux objets actionnables, nous avons opté pour des mécanismes permettant d’assurer un certain niveau de contrôle.

Détaillons tout d’abord la façon dont une application va pouvoir recevoir des données ou envoyer un ordre. Il faudra tout d’abord que le médecin ou le membre du personnel se connecte avec ses identifiants propres à l’hôpital. Cette demande d’authentification est envoyée, avec des informations relatives à l’application, à la passerelle intelligente de l’hôpital. Le module d’authentification du middleware pourra alors d’une part confirmer que l’application n’a pas été modifiée, et que la personne qui s’est connectée est bien celle qu’elle prétend être. Ensuite, le médecin ou le membre du personnel pourra envoyer un ordre, par exemple consulter les données de tel patient. Les informations d’authentification sont à nouveau envoyées, et la requête ainsi que l’identification du requérant passent cette fois-ci par le module de contrôle d’accès, qui autorise ou non l’accès aux données ou à l’objet actionnable. Une fois ceci fait, les données récupérées sont chiffrées avant d’être renvoyées à l’application qui a servi de support à la requête. De cette manière, toute demande d’informations personnelles, d’ordres ou autres doit passer par le système central qui peut assurer une partie non négligeable de la sécurité et de la protection de la vie privée. On passe donc ici par le point sur lequel on a le plus de contrôle, et on s’assure de plus que les informations qui ne concernent pas le requérant ne quittent pas les serveurs de l’hôpital (car le contrôle d’accès aura refusé préalablement l’accès aux données).

De cette manière, l’accent est mis sur un contrôle fait à l’intérieur du système et ne dépendant pas d’une application ayant pu être modifiée par un agent extérieur. Bien sûr, il y a comme toujours des limites à cette sécurité, qui comme dans tout système informatique ne peut être absolue : si le téléphone ou la tablette du médecin qui consulte les données a été compromis par un logiciel espion, on ne pourra garantir la privacité des données, mais la fuite ne proviendra pas du système en lui-même, mais sera une conséquence d’un phénomène extérieur.

En résumé, nous avons donc pris un certain nombre de dispositions pour s’assurer de limiter les risques de fuites de données et d’accès non autorisées à des actionneurs à l’intérieur du système, mais nous sommes comme toujours limités par le manque de contrôle sur des éléments extérieurs au système qui peuvent interagir avec lui. Nous ne pouvons contrôler la sécurité que des capteurs jusqu’à l’application, en passant par le middleware et les dispositifs intermédiaires (moniteurs intelligents, Smart Gateway), mais nous ne pouvons pas contrôler l’environnement dans lequel est exécutée l’application.
